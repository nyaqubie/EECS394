<!DOCTYPE html> 
<html> 
	<head> 
		<title>NU Bus Tracker</title> 
		
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		<link rel="stylesheet" href="styles/jquery.mobile-1.0rc2.min.css" />
		
		<script type="text/javascript" charset="utf-8" src="phonegap-1.1.0.js"></script>
		<script type="text/javascript" src="lib/jquery/jquery-1.6.4.min.js"></script>
		<script type="text/javascript" src="lib/jquery/jquery.mobile-1.0rc2.min.js"></script>	
		<script type="text/javascript" src="app.js"></script>
	</head> 
	
	<body> 
		<div data-role="page" id="index" data-theme="b">
			<div data-role="header" id='header' data-theme="a">
				<h1>Events</h1>
				<a href="events.html" rel='external' data-role='button'>Back</a>
			</div>
			<script type="text/javascript">
				var eventid = getQueryVariable('id');
				console.log(eventid);
				$.ajax({
					url: 'http://json.shookit.com/getinterested',
					type: 'GET',
					dataType: 'jsonp',
					data:{radius: 3, eventID: 8, geolocation: 9},
					jsonp: 'jsoncallback',
					timeout: 1000,
					success: function(data, status){
						var numInt = document.createElement('h2');
						numInt.appendChild(document.createTextNode("Number interested: " + data));
						$("#footer").before(numInt);
						$("html").trigger('create')	//needed to apply jqmobile style changes on dynamic content
					},
					error: function(){
						alert('bad')
					}
				});


			</script>
			
			<div data-role="footer" id="footer" data-theme="a">
				<h4>Footer</h4>
			</div>
		</div>
	</body>
	
</html>